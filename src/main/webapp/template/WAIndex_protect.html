<DIV id="WAIndex_protect">
    <div class="row animated fadeInUp">
        <div class="col-sm-12 col-lg-9">
            <div class="row">
                <div class="col-sm-12 col-md-4">
                    <div class="panel widgetbox wbox-2 bg-lighter-2 color-light">
                        <a href="#" onclick="loadpage('virusGraph');">
                            <div class="panel-content" style="background:#ff7f50;">
                                <div class="row" >
                                    <div class="col-xs-8">
                                        <h1  class="subtitle color-darker-1" id="TopTitle_1"></h1>
                                        <h1  class="title color-primary" id="TopValue_1"></h1>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="panel widgetbox wbox-2 bg-lighter-2 color-light">
                        <a href="#" onclick="loadpage('virusGraph');">
                            <div class="panel-content" style="background:#87cefa;">
                                <div class="row">
                                    <div class="col-xs-8">
                                        <h4 class="subtitle color-darker-1" id="TopTitle_2"></h4>
                                        <h1 class="title color-primary" id="TopValue_2"></h1>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="panel widgetbox wbox-2 bg-darker-2 color-light">
                        <a href="#" onclick="loadpage('virusGraph');">
                            <div class="panel-content" style="background:#da70d6;">
                                <div class="row">

                                    <div class="col-xs-8">
                                        <h4 class="subtitle color-darker-1" id="TopTitle_3"></h4>
                                        <h1 class="title color-primary" id="TopValue_3"></h1>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-sm-12 col-md-8">
                    <div class="panel">
                        <div id="area-chart" style="width:100%; height: 50%">

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 col-md-4">
                    <div class="panel b-primary bt-md">
                        <div class="panel-content p-none">
                            <div class="widget-list list-to-do" id="area-pie" style="width:100%; height: 40%">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-md-8">
                    <div class="tabs mt-none">
                        <ul class="nav nav-tabs nav-justified">
                            <li class="active">
                                <a href="#home" data-toggle="tab">
                                    木马主控
                                </a>
                            </li>
                            <li><a href="#profile" data-toggle="tab">蠕虫病毒</a></li>
                            <li><a href="#messages" data-toggle="tab">木马受控</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="home">
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>主机IP</th>
                                                <th>木马名称</th>
                                                <th>检测时间</th>
                                                <th>建议处置方式</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>1.1.1.1</td>
                                                <td>Trojan.LMir.PSW.60</td>
                                                <td>2017/4/10</td>
                                                <td>查杀</td>
                                            </tr>
                                            <tr>
                                                <td>1.1.1.2</td>
                                                <td>Absr.exe</td>
                                                <td>2017/4/10</td>
                                                <td>查杀</td>
                                            </tr>
                                            <tr>
                                                <td>1.1.1.3</td>
                                                <td>Zonealarm.exe</td>
                                                <td>2017/4/10</td>
                                                <td>查杀</td>
                                            </tr>
                                            <tr>
                                               <td>1.1.1.4</td>
                                                <td>Trojan.LMir.PSW.60</td>
                                                <td>2017/4/10</td>
                                                <td>查杀</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="col-sm-12 col-lg-3">
            <div class="timeline" style="height: 100%;overflow:auto;">
                <div class="timeline-box">
                    <div class="timeline-icon bg-primary">
                        <!--<i class="fa fa-check"></i>-->1
                    </div>
                    <div class="timeline-content">
                        <h4 class="tl-title">木马主控排序</h4>
                        <i>Trojan.qq3344 ——53</i><BR/>
                        <i>Avconsol.exe  ——43</i><BR/>
                        <i>Avp32.exe  ——21</i><BR/>
                        <i>BoboDvldr32.exe——10</i><BR/>
                        <i>Dkbdll.exe  ——93</i><BR/>
                        <i>……</i>
                    </div>
                </div>
               <div class="timeline-box">
                    <div class="timeline-icon bg-primary">
                        <!--<i class="fa fa-check"></i>-->2
                    </div>
                    <div class="timeline-content">
                        <h4 class="tl-title">蠕虫病毒感染排序</h4>
                        <i>Krn132.exe ——21</i><BR/>
                        <i>Cfiaudit.exe ——20</i><BR/>
                        <i>Avpm.exe ——15</i><BR/>
                        <i>Diagcfg.exe ——95</i><BR/>
                        <i>Icload95.exe ——92</i><BR/>
                        <i>……</i>
                    </div>
                   
                </div>
               <div class="timeline-box">
                    <div class="timeline-icon bg-primary">
                        <!--<i class="fa fa-check"></i>-->3
                    </div>
                    <div class="timeline-content">
                        <h4 class="tl-title">木马受控排序</h4>
                         <i>Trojan.LMir.PSW.60 ——95</i><BR/>
                        <i>Absr.exe  ——75</i><BR/>
                        <i>Wqk.exe  ——41</i><BR/>
                        <i>Zonealarm.exe ——87</i><BR/>
                        <i>Trojan.LMir.PSW.60 ——63</i><BR/>
                        <i>……</i>
                    </div>
                </div>
             
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var bdzgr = {"success": true, "title": "",
        "data": [{"name": "木马主控总数", "value": 563}, {"name": "蠕虫病毒感染总数", "value": 465},
            {"name": "木马受控总数", "value": 689}]};
    TopTitleData(bdzgr);
    function TopTitleData(bdzgr) {
        var dataJson = bdzgr.data;
        for (var i = 0; i < dataJson.length; i++) {
            $("#TopTitle_" + (i + 1)).text(dataJson[i].name);
            $("#TopValue_" + (i + 1)).text(dataJson[i].value);
        }
    }

    areaChartView();
    function areaChartView() {
        var zxqy = {"success": true, "title": "主机安全情况", "avgRange": 1000, "label": ["木马主控总数", "蠕虫病毒感染总数", "木马受控总数"], "arr_sum": ["name", "value1", "value2", "value3"],
            "data": [{"name": "1.1.1.1", "value1": 78, "value2": 44, "value3": 73}, {"name": "1.1.1.2", "value1": 73, "value2": 46, "value3": 68}, {"name": "1.1.1.3", "value1": 31, "value2": 42, "value3": 38},
                {"name": "1.1.1.4", "value1": 24, "value2": 38, "value3": 68}, {"name": "1.1.1.5", "value1": 52, "value2": 24, "value3": 24}, {"name": "1.1.1.6", "value1": 12, "value2": 24, "value3": 68},
                {"name": "1.1.1.7", "value1": 65, "value2": 35, "value3": 57}]};
//         var zxqy = {"success": true, "title": "主要地区病毒感染数", "avgRange": 1000,"label":["木马主控总数","蠕虫病毒感染总数","木马受控总数"],"arr_sum":["name","value1","value2","value3"],
//        "data":[{"name": "乌鲁木齐市", "value1": 778,"value2": 344,"value3": 273}, {"name": "吐鲁番", "value1": 773,"value2": 346,"value3": 668}, {"name": "博州", "value1": 631,"value2": 742,"value3": 238},
//            {"name": "阿勒泰", "value1": 624,"value2": 738,"value3": 268}, {"name": "喀什", "value1": 552,"value2": 724,"value3": 624}, {"name": "昌吉州", "value1": 512,"value2": 824,"value3": 168},
//            {"name": "克州", "value1": 465,"value2": 235,"value3": 257}, {"name": "哈密", "value1": 457,"value2": 528,"value3": 375}, {"name": "阿克苏", "value1": 421,"value2": 411,"value3": 211},
//            {"name": "克拉玛依", "value1": 324,"value2": 838,"value3": 521}, {"name": "巴州", "value1": 263,"value2": 482,"value3": 328}, {"name": "那曲地区", "value1": 190,"value2": 514,"value3": 245}, 
//            {"name": "和田", "value1": 152,"value2": 568,"value3": 425}]};
//折线区域图
        var data = getUnmarshallData2(zxqy);
        var legendData = [];
        var labelData = [];
        var xAxisData = [];
        var seriesData = [];
        if (data !== null && data["series"].length > 0) {
            legendData = data["legen"];
            xAxisData = data["axis"];
            labelData = data["label"];
            for (var i = 0, len = data["series"].length; i < len; i++) {
                seriesData.push({
                    "name": labelData[i],
                    "type": "line",
                    "smooth": true,
                    "data": data["series"][i],
                    itemStyle:
//                            {normal: {areaStyle: {type: 'default'}}}
                            {
                        normal: {
                            areaStyle: {type: 'default'},
                            label: {
                                show: true,
                                textStyle: {
                                    color: '#800080'
                                }
                            }
                        }
                    }
                });
            }
        }
        require.config({
            paths: {
                echarts: 'js/echarts/www' //引用资源文件夹路径，注意路径
            }
        });
        require(
                [
                    'echarts'
                ],
                function(ec) {
                    var mychar = ec.init(document.getElementById('area-chart'));
                    option = {
                        title: {
                            text: legendData
//                            subtext: ''
                        },
                        tooltip: {
                            trigger: 'axis'
                        },
                        legend: {
                            orient: 'vertical', //图例位置2
                            x: 'right',
                            data: labelData
                        },
                        toolbox: {
                            show: true,
                            x: 'center',
                            feature: {
                                dataView: {show: true, readOnly: false},
                                magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                                restore: {show: true},
                                saveAsImage: {show: true}
                            }
                        },
                        calculable: true,
                        xAxis: [
                            {
                                type: 'category',
                                boundaryGap: true,
                                data: xAxisData,   
                                show : true,  
                              axisLabel:{  
                                  interval:0
                              }
                            }
                        ],
                        yAxis: [
                            {
                                type: 'value'
                            }
                        ],
                        series: seriesData
//                                [
//                            {
//                                name: '成交',
//                                type: 'line',
//                                smooth: true,
//                                itemStyle: {normal: {areaStyle: {type: 'default'}}},
//                                data: [10, 12, 21, 54, 260, 830, 710]
//                            },
//                            {
//                                name: '预购',
//                                type: 'line',
//                                smooth: true,
//                                itemStyle: {normal: {areaStyle: {type: 'default'}}},
//                                data: [30, 182, 434, 791, 390, 30, 10]
//                            },
//                            {
//                                name: '意向',
//                                type: 'line',
//                                smooth: true,
//                                itemStyle: {normal: {areaStyle: {type: 'default'}}},
//                                data: [1320, 1132, 601, 234, 120, 90, 20]
//                            }
//                        ]
                    };
                    //配置图表设置并读取
                    mychar.setOption(option);
                }
        );
    }

    areaPieView(bdzgr);
    function areaPieView(data) {
       //折线区域图
        require.config({
            paths: {
                echarts: 'js/echarts/www' //引用资源文件夹路径，注意路径
            }
        });
        require(
                [
                    'echarts',
                    'echarts/chart/pie'
//                    'echarts/chart/funnel'
                ],
                function(ec) {
                    var mychar = ec.init(document.getElementById('area-pie'));
                    option = {
                        tooltip: {
                            trigger: 'item',
                            formatter: "{b} : {c}({d}%)"
                        },
                        legend: {
                            show: false,
                            orient: 'vertical',
                            x: 'left',
                            data: ["木马主控总数", "蠕虫病毒感染总数", "木马受控总数"]
                        },
                        toolbox: {
                            show: true,
                            feature: {
                                dataView: {show: true, readOnly: false},
                                magicType: {
                                    show: true,
                                    type: ['pie']
                                },
                                restore: {show: true},
                                saveAsImage: {show: true}
                            }
                        },
                        calculable: true,
                        series: [
                            {
                                name: '',
                                type: 'pie',
                                radius: ['50%', '90%'],
                                itemStyle: {
                                    normal: {
                                        label: {
                                            position:'inner',
                                            formatter:'{d}%',
                                             textStyle: {
                                                fontSize: '14',
                                                fontWeight: 'bold'
                                            }
                                        },
                                        labelLine: {
                                            show: false
                                        }
                                    },
                                    emphasis: {
                                        label: {
                                            show: true,
                                            formatter : "{b}",
                                            position: 'center',
                                            textStyle: {
                                                fontSize: '12',
                                                fontWeight: 'bold'
                                            }
                                        }
                                    }
                                },
                                data: data.data
                            }
                        ]
                    };
                    //配置图表设置并读取
                    mychar.setOption(option);
                }
        );
    }
</script>
