<DIV id="WAIndex">
    <div class="row animated fadeInUp">
        <div class="col-sm-12 col-lg-9">
            <div class="row">
                <div class="col-sm-12 col-md-4">
                    <div class="panel widgetbox wbox-2 bg-lighter-2 color-light">
                        <a href="#" onclick="loadpageByTitle('ui_sortVirusGraph', 'ma');">
                            <div class="panel-content" style="background:#ff7f50;">
                                <div class="row">
                                    <div class="col-xs-8">
                                        <h4 class="subtitle color-darker-1" id="TopTitle_1"></h4>
                                        <h1 class="title color-primary" id="TopValue_1"></h1>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="panel widgetbox wbox-2 bg-lighter-2 color-light">
                        <a href="#" onclick="loadpageByTitle('ui_sortVirusGraph', 'kzrc');">
                            <div class="panel-content" style="background:#87cefa;">
                                <div class="row">
                                    <div class="col-xs-8">
                                        <h4 class="subtitle color-darker-1" id="TopTitle_2"
                                            style="PADDING-LEFT: 0px;"></h4>
                                        <h1 class="title color-primary" id="TopValue_2"></h1>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="panel widgetbox wbox-2 bg-darker-2 color-light">
                        <a href="#" onclick="loadpageByTitle('ui_sortVirusGraph', 'skrc');">
                            <div class="panel-content" style="background:#da70d6;">
                                <div class="row">
                                    <div class="col-xs-8">
                                        <h4 class="subtitle color-darker-1" id="TopTitle_3"></h4>
                                        <h1 class="title color-primary" id="TopValue_3"></h1>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-sm-12 col-md-8">
                    <div class="panel">
                        <div id="area-chart" style="width:100%; height: 50%">

                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 col-md-4">
                    <div class="panel b-primary bt-md">
                        <div class="panel-content p-none">
                            <div class="widget-list list-to-do" id="area-pie" style="width:100%; height: 40%">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-md-8">
                    <div class="tabs mt-none">
                        <ul class="nav nav-tabs nav-justified">
                            <li class="active">
                                <a href="#home" data-toggle="tab">
                                    地势分类
                                </a>
                            </li>
                            <li><a href="#profile" data-toggle="tab">关键基础设施</a></li>
                            <li><a href="#messages" data-toggle="tab">运营商分类</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="home">
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                        <tr>
                                            <th>城市名称</th>
                                            <th>木马主控总数</th>
                                            <th>木马受控总数</th>
                                            <th>蠕虫病毒感染总数</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>乌鲁木齐</td>
                                            <td>270</td>
                                            <td>778</td>
                                            <td>121</td>
                                        </tr>
                                        <tr>
                                            <td>克州</td>
                                            <td>310</td>
                                            <td>465</td>
                                            <td>311</td>
                                        </tr>
                                        <tr>
                                            <td>哈密</td>
                                            <td>610</td>
                                            <td>457</td>
                                            <td>412</td>
                                        </tr>
                                        <tr>
                                            <td>阿勒泰</td>
                                            <td>532</td>
                                            <td>431</td>
                                            <td>624</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="profile">
                                <table class="table table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>基础设施名称</th>
                                        <th>木马主控总数</th>
                                        <th>木马受控总数</th>
                                        <th>蠕虫病毒感染总数</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>网站类</td>
                                        <td>270</td>
                                        <td>778</td>
                                        <td>121</td>
                                    </tr>
                                    <tr>
                                        <td>平台类</td>
                                        <td>310</td>
                                        <td>465</td>
                                        <td>311</td>
                                    </tr>
                                    <tr>
                                        <td>生产业务类</td>
                                        <td>610</td>
                                        <td>457</td>
                                        <td>412</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-pane fade" id="messages">
                                <table class="table table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>运营商名称</th>
                                        <th>木马主控总数</th>
                                        <th>木马受控总数</th>
                                        <th>蠕虫病毒感染总数</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>移动</td>
                                        <td>270</td>
                                        <td>778</td>
                                        <td>121</td>
                                    </tr>
                                    <tr>
                                        <td>联通</td>
                                        <td>310</td>
                                        <td>465</td>
                                        <td>311</td>
                                    </tr>
                                    <tr>
                                        <td>电信</td>
                                        <td>610</td>
                                        <td>457</td>
                                        <td>412</td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="col-sm-12 col-lg-3">
            <div class="timeline" style="height: 100%;">
                <div class="timeline-box">
                    <div class="timeline-icon bg-primary">
                        <div style="display: block;width: 30px;height: 30px;position: relative;top:4px;color: #ffffff;">
                            1
                        </div>
                    </div>
                    <a href="#" onclick="loadpage('ui_item');" style="color:inherit;text-decoration:none; ">
                        <div class="timeline-content">
                            <h4 class="tl-title">木马主控排序</h4>
                            <i>Trojan.qq3344 ——253</i><BR/>
                            <i>Avconsol.exe ——243</i><BR/>
                            <i>Avp32.exe ——221</i><BR/>
                            <i>BoboDvldr32.exe——210</i><BR/>
                            <i>Dkbdll.exe ——193</i><BR/>
                            <i>……</i>
                        </div>
                    </a>
                </div>
                <div class="timeline-box">
                    <div class="timeline-icon bg-primary">
                        <div style="display: block;width: 30px;height: 30px;position: relative;top:4px;color: #ffffff;">
                            2
                        </div>
                    </div>
                    <a href="#" onclick="loadpage('ui_item');" style="color:inherit;text-decoration:none; ">
                        <div class="timeline-content">
                            <h4 class="tl-title">蠕虫病毒感染排序</h4>
                            <i>Krn132.exe ——421</i><BR/>
                            <i>Cfiaudit.exe ——420</i><BR/>
                            <i>Avpm.exe ——315</i><BR/>
                            <i>Diagcfg.exe ——295</i><BR/>
                            <i>Icload95.exe ——192</i><BR/>
                            <i>……</i>
                        </div>
                    </a>

                </div>
                <div class="timeline-box">
                    <div class="timeline-icon bg-primary">
                        <div style="display: block;width: 30px;height: 30px;position: relative;top:4px;color: #ffffff;">
                            3
                        </div>
                    </div>
                    <a href="#" onclick="loadpage('ui_item');" style="color:inherit;text-decoration:none; ">
                        <div class="timeline-content">
                            <h4 class="tl-title">木马受控排序</h4>
                            <i>Trojan.LMir.PSW.60 ——395</i><BR/>
                            <i>Absr.exe ——375</i><BR/>
                            <i>Wqk.exe ——341</i><BR/>
                            <i>Zonealarm.exe ——287</i><BR/>
                            <i>Trojan.LMir.PSW.60 ——263</i><BR/>
                            <i>……</i>
                        </div>
                    </a>
                </div>

            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var bdzgr = {
        "success": true, "title": "",
        "data": [{"name": "木马主控总数", "value": 18563}, {"name": "蠕虫病毒感染总数", "value": 8465},
            {"name": "木马受控总数", "value": 11689}]
    };
    TopTitleData(bdzgr);
    function TopTitleData(bdzgr) {
        var dataJson = bdzgr.data;
        for (var i = 0; i < dataJson.length; i++) {
            $("#TopTitle_" + (i + 1)).text(dataJson[i].name);
            $("#TopValue_" + (i + 1)).text(dataJson[i].value);
        }
    }

    areaChartView();
    function areaChartView() {
        var zxqy = {
            "success": true,
            "title": "主要地区病毒感染数",
            "avgRange": 1000,
            "legen": ["木马主控总数", "蠕虫病毒感染总数", "木马受控总数"],
            "arr_sum": ["name", "value1", "value2", "value3"],
            "data": [{"name": "乌鲁木齐市", "value1": 778, "value2": 344, "value3": 273}, {
                "name": "吐鲁番",
                "value1": 773,
                "value2": 346,
                "value3": 668
            }, {"name": "博州", "value1": 631, "value2": 742, "value3": 238},
                {"name": "阿勒泰", "value1": 624, "value2": 738, "value3": 268}, {
                    "name": "喀什",
                    "value1": 552,
                    "value2": 724,
                    "value3": 624
                }, {"name": "昌吉州", "value1": 512, "value2": 824, "value3": 168},
                {"name": "克州", "value1": 465, "value2": 235, "value3": 257}, {
                    "name": "哈密",
                    "value1": 457,
                    "value2": 528,
                    "value3": 375
                }, {"name": "阿克苏", "value1": 421, "value2": 411, "value3": 211},
                {"name": "克拉玛依", "value1": 324, "value2": 838, "value3": 521}, {
                    "name": "巴州",
                    "value1": 263,
                    "value2": 482,
                    "value3": 328
                }, {"name": "塔城", "value1": 190, "value2": 514, "value3": 245},
                {"name": "和田", "value1": 152, "value2": 568, "value3": 425}]
        };
//折线区域图
        var data = getUnmarshallData2(zxqy);
        var titleData = [];
        var legenData = [];
        var xAxisData = [];
        var seriesData = [];
        if (data !== null && data["series"].length > 0) {
            titleData = data["title"];
            xAxisData = data["axis"];
            legenData = data["legen"];
            for (var i = 0, len = data["series"].length; i < len; i++) {
                seriesData.push({
                    "name": legenData[i],
                    "type": "line",
                    "smooth": true,
                    "data": data["series"][i],
                    itemStyle: //                            {normal: {areaStyle: {type: 'default'}}}
                        {
                            normal: {
                                areaStyle: {type: 'default'},
                                label: {
                                    show: true,
                                    textStyle: {
                                        color: '#800080'
                                    }
                                }
                            }
                        }
                });
            }
        }
        require.config({
            paths: {
                echarts: 'js/echarts/graph' //引用资源文件夹路径，注意路径
            }
        });
        require(
            [
                'echarts'
            ],
            function (ec) {
                var mychar = ec.init(document.getElementById('area-chart'));
                option = {
                    title: {
                        text: titleData
//                            subtext: ''
                    },
                    tooltip: {
                        trigger: 'axis'
                    },
                    legend: {
                        orient: 'vertical', //图例位置2
                        x: 'right',
                        data: legenData
                    },
                    toolbox: {
                        show: true,
                        x: 'center',
                        feature: {
                            dataView: {show: true, readOnly: false},
                            magicType: {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                            restore: {show: true},
                            saveAsImage: {show: true}
                        }
                    },
                    calculable: true,
                    xAxis: [
                        {
                            type: 'category',
                            boundaryGap: false,
                            data: xAxisData,
                            axisLabel: {
                                show: true,
                                interval: 'auto',
                                rotate: -30, //-30度角倾斜显示
                                textStyle: {
                                    fontSize: '14',
                                    fontFamily: 'verdana'
                                }
                            }
                        }
                    ],
                    yAxis: [
                        {
                            type: 'value'
                        }
                    ],
                    series: seriesData
                };
                mychar.setOption(option);
                //配置图表设置并读取
                var ecConfig = require('echarts/config');

                function eConsole(param) {
                    if (typeof param.seriesIndex !== 'undefined') {
//                                    alert(param.name);
                        loadpage('ui_item');
                    }
                }

                mychar.on(ecConfig.EVENT.CLICK, eConsole);
            }
        );
    }

    areaPieView(bdzgr);
    function areaPieView(data) {
        //折线区域图
        require.config({
            paths: {
                echarts: 'js/echarts/graph' //引用资源文件夹路径，注意路径
            }
        });
        require(
            [
                'echarts',
                'echarts/chart/pie'
            ],
            function (ec) {
                var mychar = ec.init(document.getElementById('area-pie'));
                option = {
                    legend: {
                        show: false,
                        orient: 'vertical',
                        x: 'left',
                        data: ["木马主控总数", "蠕虫病毒感染总数", "木马受控总数"]
                    },
                    toolbox: {
                        show: true,
                        feature: {
                            dataView: {show: true, readOnly: false},
                            magicType: {
                                show: true,
                                type: ['pie']
                            },
                            restore: {show: true},
                            saveAsImage: {show: true}
                        }
                    },
                    calculable: true,
                    series: [
                        {
                            name: '',
                            type: 'pie',
                            radius: ['50%', '90%'],
                            itemStyle: {
                                normal: {
                                    label: {
                                        position: 'inner',
                                        formatter: '{d}%\n({c})',
                                        textStyle: {
                                            fontSize: '14',
                                            fontWeight: 'bold'
                                        }
                                    },
                                    labelLine: {
                                        show: false
                                    }
                                },
                                emphasis: {
                                    label: {
                                        show: true,
                                        formatter: "{b}",
                                        position: 'center',
                                        textStyle: {
                                            fontSize: '12',
                                            fontWeight: 'bold'
                                        }
                                    }
                                }
                            },
                            data: data.data
                        }
                    ]
                };
                //配置图表设置并读取
                mychar.setOption(option);
                //配置图表设置并读取
                var ecConfig = require('echarts/config');

                function eConsole(param) {
                    if (typeof param.seriesIndex !== 'undefined') {
//                                    alert(param.name);
                        loadpage('ui_item');
                    }
                }

                mychar.on(ecConfig.EVENT.CLICK, eConsole);
            }
        );
    }
</script>
